{{ block title }}<center>ゲームの結果</center>{{ endblock }}
{{ block content }}
{% if not_entered_message %}
        <p><center><b><font color="red">{{ not_entered_message }}</font></b></center></p>
{% endif %}
{% if round_number == NUM_ROUNDS%}
<p><center><b><font color="red">実験はこれで終了です。アンケートにご協力ください。</font></b></center></p>
{% load static%} 
<center><a href="https://forms.gle/JS54HGAz7sK8ywT19" target="_blank" rel="noopener noreferrer">こちら</a>をクリックしてください</center>
{% endif %}
{% if round_number <= 2%}
<p><center><b><font color="red">練習モード</font></b></center></p>
{% endif %}
{% if round_number == 2%}
<p><center><b><font color="red">次のゲームから本番になります。得点はリセットされます。</font></b></center></p>
{% endif %}
<center>
<p>
<table cellpadding="10">
  <tr>
    <th>　</th>
    <th>あなた</th>
    <th>相手</th>
  </tr>
  <tr>
    <td>選択行動</td>
    <td>{{ my_decision }}</td>
    <td>{{ opponent_decision }}</td>
  </tr>
  <tr>
    <td>獲得得点</td>
    <td>{{ player.add_point }}ポイント</td>
    <td>{{ other.add_point }}ポイント</td>
  </tr>
  <tr>
    <td>累計得点</td>
    <td>{{ player.payoff }}</td>
    <td>{{ other.payoff }}</td>
  </tr>
</table>
</p>
</center>
<style>
  .otree-timer {
      font-size: 20px;
      text-align: center;
      background-color: #FFE4B5; /* 背景色を黄色に設定 */
      padding: 14px; /* 上下左右に10pxの余白を追加 */
  }
</style>
<script type="text/javascript">
  
  timerID = setInterval('clock()', 500); //0.5秒毎にclock()を実行

  function clock() {
    document.getElementById("view_clock").innerHTML = getNow();
  }

  function getNow() {
    var now = new Date();
    var year = now.getFullYear();
    var mon = now.getMonth() + 1; //１を足すこと
    var day = now.getDate();
    var hour = now.getHours();
    var min = now.getMinutes();
    var sec = now.getSeconds();

    //出力用
    var s = year + "年" + mon + "月" + day + "日" + hour + "時" + min + "分" + sec + "秒";
    return s;
  }

  // ページの読み込みが完了した時点から5秒後にメッセージを表示する処理
  setTimeout(function () {
    var messageContainer = document.getElementById("message-container");
    messageContainer.textContent = "少々お待ちください";

    // メッセージを非表示にするためのタイマー
    setTimeout(function () {
      messageContainer.textContent = "";
    }, 10000); // 5秒後にメッセージを非表示にする
  }, 5); // 5秒後にメッセージを表示するためのタイマー
</script>

{{ endblock }}